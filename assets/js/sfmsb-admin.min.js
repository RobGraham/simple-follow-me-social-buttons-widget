/*! Simple Follow Me Social Buttons Widget - v0.1.0
 * http://wordpress.org/plugins
 * Copyright (c) 2016; * Licensed GPLv2+ */
window.sfmsb=window.sfmsb||{},function(a,b,c){"use strict";sfmsb.IconView=Backbone.View.extend({template:_.template(a(document.getElementById("sfmsb-icon")).html()),tagName:"a",events:{click:"addToSelection"},attributes:function(){return{class:"sfmsb-icon-"+this.model.get("id")+" sfmsb-"+this.model.get("style")}},initialize:function(){this.render()},render:function(){return this.$el.html(this.template(this.model.attributes)),this},addToSelection:function(b){var c=a(b.currentTarget).closest(".widget").attr("id"),d=sfmsb.iconsListsCollections.selection[c],e=new sfmsb.IconModel({id:this.model.get("id"),name:this.model.get("name"),color:this.model.get("color"),hoverColor:this.model.get("hoverColor"),group:this.model.get("group"),style:this.model.get("style"),order:null});d.add(e)}}),sfmsb.SelectionIconView=Backbone.View.extend({template:_.template(a(document.getElementById("sfmsb-icon")).html()),tagName:"a",events:{click:"displaySettings"},attributes:function(){return{class:"sfmsb-icon-"+this.model.get("id")+" sfmsb-"+this.model.get("style")}},initialize:function(){this.render()},render:function(){return this.$el.html(this.template(this.model.attributes)),this},displaySettings:function(){console.log("display settings")}}),sfmsb.IconModel=Backbone.Model.extend({defaults:{id:null,name:"",slug:"",color:sfmsbWidget.iconColor,hoverColor:sfmsbWidget.iconHoverColor,group:sfmsbWidget.defaultGroup,style:sfmsbWidget.defaultStyle,order:null}}),sfmsb.IconsView=Backbone.View.extend({initialize:function(){this.render()},render:function(){this.$el.empty(),this.collection.each(this.addOne,this)},addOne:function(a){var b=new sfmsb.IconView({model:a});this.$el.append(b.render().el)}}),sfmsb.SelectionView=Backbone.View.extend({initialize:function(){this.render(),this.listenTo(this.collection,"add remove",this.addRemove,this)},render:function(){this.$el.empty(),this.collection.each(this.addOne,this)},addOne:function(a){var b=new sfmsb.SelectionIconView({model:a});this.$el.append(b.render().el)},addRemove:function(){this.render()}}),sfmsb.IconsCollection=Backbone.Collection.extend({model:sfmsb.IconModel}),sfmsb.widget=function(){function a(){sfmsb.iconsListsCollections=[],sfmsb.iconsLists=[],_.each(sfmsbWidget.collections,function(a,b){sfmsb.iconsListsCollections[b]=new sfmsb.IconsCollection(a.icons),sfmsb.iconsLists[b]=new sfmsb.IconsView({collection:sfmsb.iconsListsCollections[b],el:".sfmsb-group-"+b})}),_.each(document.querySelectorAll(".sfmsb-selection"),function(a,b){var c=a.dataset.widget,d={};sfmsb.iconsListsCollections.selection=sfmsb.iconsListsCollections.selection||[],sfmsb.iconsLists.selection=sfmsb.iconsLists.selection||[],sfmsb.iconsListsCollections.selection[c]=new sfmsb.IconsCollection(d),sfmsb.iconsLists.selection[c]=new sfmsb.SelectionView({collection:sfmsb.iconsListsCollections.selection[c],el:"#sfmsb-selection-"+c}),console.log(sfmsb.iconsListsCollections.selection[c]),console.log(sfmsb.iconsLists.selection[c]),console.log("------")}),console.log("end",sfmsb.iconsLists.selection)}return{init:a}}(),sfmsb.widget.init()}(jQuery,this);